import{_ as A}from"./DbuFvnLP.js";import{_ as I}from"./CNxelzV8.js";import{m as j,f as B,p as w,r as f,h as O,l as C,A as V,q as z,c,a as e,i as T,b as v,w as U,u as o,s as $,v as n,x as i,d as b,F as G,k as q,t as m,o as p}from"#entry";import{u as J}from"./b2E7qtaH.js";import{a as K}from"./BDG_tvSz.js";const R={class:"min-h-screen bg-gray-50"},H={class:"bg-white shadow-sm border-b"},Q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},W={class:"flex justify-between items-center py-4"},X={class:"flex items-center space-x-4"},Y={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Z={key:0,class:"flex justify-center items-center h-64"},ee={class:"card p-6"},te={class:"space-y-6"},se={class:"relative"},oe={class:"relative"},le={class:"card p-6"},ae={class:"space-y-4"},ne={class:"flex items-center space-x-4"},ie={class:"relative"},re={class:"flex-1"},de={class:"flex items-center space-x-4"},ce={class:"relative"},pe={class:"flex-1"},me={class:"card p-6"},ue={class:"space-y-4"},ye=["onUpdate:modelValue"],ge={class:"floating-label capitalize"},xe={class:"text-xs text-gray-500 mt-1"},fe={class:"card p-6"},ve={class:"space-y-6"},be={class:"relative"},_e={class:"text-sm text-gray-500 mt-1"},he={class:"relative"},Se={class:"card p-6"},ke={class:"space-y-6"},we={class:"relative"},Ce={class:"relative"},Ve={class:"flex justify-end space-x-4"},Te=["disabled"],Ue={key:0,class:"fixed top-20 right-4 p-4 bg-green-50 border border-green-200 rounded-lg shadow-xl z-50"},Me={class:"flex items-center"},Ne={class:"text-green-700 font-medium"},Ee={key:1,class:"fixed top-20 right-4 p-4 bg-red-50 border border-red-200 rounded-lg shadow-xl z-50"},Pe={class:"flex items-center"},Fe={class:"text-red-700 font-medium"},Oe={__name:"settings",async setup(Le){let g,_;const{logout:M}=j(),{getSiteSettings:N}=J(),E=([g,_]=B(()=>N()),g=await g,_(),g),s=w({siteName:"",siteTagline:"",logo:"",favicon:"",primaryColor:"#6495ed",secondaryColor:"#9333ea",metaDescription:"",keywords:"",contactEmail:"",contactPhone:""}),u=w({facebook:"",twitter:"",instagram:"",linkedin:"",youtube:""}),h=f(!0),x=f(!1),d=f(""),r=f("");O(async()=>{await P()});const P=async()=>{try{const a=await $fetch(C(V.CMS.SITE_SETTINGS.GET));if(a&&(s.siteName=a.siteName||"",s.siteTagline=a.siteTagline||"",s.logo=a.logo||"",s.favicon=a.favicon||"",s.primaryColor=a.primaryColor||"#6495ed",s.secondaryColor=a.secondaryColor||"#9333ea",s.metaDescription=a.metaDescription||"",s.keywords=a.keywords||"",s.contactEmail=a.contactEmail||"",s.contactPhone=a.contactPhone||"",a.socialLinks))try{const t=JSON.parse(a.socialLinks);Object.assign(u,t)}catch(t){console.error("Failed to parse social links:",t)}}catch(a){r.value="Failed to load settings",console.error("Failed to load settings:",a)}finally{h.value=!1}},F=async()=>{x.value=!0,d.value="",r.value="";try{const a={...s,socialLinks:JSON.stringify(u)};await $fetch(C(V.CMS.SITE_SETTINGS.POST),{method:"POST",body:a}),d.value="Site settings updated successfully!"}catch(a){r.value="Failed to update settings. Please try again.",console.error("Failed to update settings:",a)}finally{x.value=!1}},L=async()=>{await M()};return z([d,r],()=>{(d.value||r.value)&&setTimeout(()=>{d.value="",r.value=""},5e3)}),K({title:`Site Settings | ${E.siteName} CMS`,robots:"noindex, nofollow"}),(a,t)=>{const S=A,k=I;return p(),c("div",R,[e("nav",H,[e("div",Q,[e("div",W,[e("div",X,[v(S,{to:"/agency-cms/manage",class:"text-blue-600 hover:text-blue-500"},{default:U(()=>[...t[12]||(t[12]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1}),t[13]||(t[13]=e("h1",{class:"text-xl font-semibold text-gray-900"},"Site Settings",-1))]),e("div",{class:"flex items-center space-x-4"},[e("button",{onClick:L,class:"btn-secondary"},"Logout")])])])]),e("div",Y,[o(h)?(p(),c("div",Z,[...t[14]||(t[14]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)])])):(p(),c("form",{key:1,onSubmit:$(F,["prevent"]),class:"space-y-8"},[e("div",ee,[t[17]||(t[17]=e("h2",{class:"text-xl font-bold text-gray-900 mb-6"},"Site Identity",-1)),e("div",te,[e("div",se,[n(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>o(s).siteName=l),type:"text",placeholder:" ",class:"form-input peer",required:""},null,512),[[i,o(s).siteName]]),t[15]||(t[15]=e("label",{class:"floating-label"},"Site Name",-1))]),e("div",oe,[n(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>o(s).siteTagline=l),type:"text",placeholder:" ",class:"form-input peer",required:""},null,512),[[i,o(s).siteTagline]]),t[16]||(t[16]=e("label",{class:"floating-label"},"Site Tagline",-1))]),v(k,{modelValue:o(s).logo,"onUpdate:modelValue":t[2]||(t[2]=l=>o(s).logo=l),label:"Site Logo (optional)"},null,8,["modelValue"]),v(k,{modelValue:o(s).favicon,"onUpdate:modelValue":t[3]||(t[3]=l=>o(s).favicon=l),label:"Site Favicon (optional)"},null,8,["modelValue"])])]),e("div",le,[t[21]||(t[21]=e("h2",{class:"text-xl font-bold text-gray-900 mb-6"},"Brand Colors",-1)),e("div",ae,[e("div",ne,[e("div",ie,[n(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>o(s).primaryColor=l),type:"color",class:"w-16 h-16 border-2 border-gray-300 rounded-lg cursor-pointer"},null,512),[[i,o(s).primaryColor]])]),e("div",re,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Primary Color",-1)),n(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>o(s).primaryColor=l),type:"text",placeholder:"#6495ed",class:"form-input",pattern:"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"},null,512),[[i,o(s).primaryColor]])])]),e("div",de,[e("div",ce,[n(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>o(s).secondaryColor=l),type:"color",class:"w-16 h-16 border-2 border-gray-300 rounded-lg cursor-pointer"},null,512),[[i,o(s).secondaryColor]])]),e("div",pe,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Secondary Color",-1)),n(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>o(s).secondaryColor=l),type:"text",placeholder:"#9333ea",class:"form-input",pattern:"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"},null,512),[[i,o(s).secondaryColor]])])]),t[20]||(t[20]=e("p",{class:"text-sm text-gray-600"},[e("strong",null,"Primary:"),b(" Used for buttons, links, and main brand elements."),e("br"),e("strong",null,"Secondary:"),b(" Used for gradients and accent elements to create visual variety. ")],-1))])]),e("div",me,[t[22]||(t[22]=e("h2",{class:"text-xl font-bold text-gray-900 mb-6"},"Social Media Links",-1)),e("div",ue,[(p(!0),c(G,null,q(o(u),(l,y)=>(p(),c("div",{key:y,class:"relative"},[n(e("input",{"onUpdate:modelValue":D=>o(u)[y]=D,type:"url",placeholder:" ",class:"form-input peer"},null,8,ye),[[i,o(u)[y]]]),e("label",ge,m(y)+" URL",1),e("p",xe,"e.g., https://"+m(y)+".com/yourcompany",1)]))),128))])]),e("div",fe,[t[25]||(t[25]=e("h2",{class:"text-xl font-bold text-gray-900 mb-6"},"SEO Settings",-1)),e("div",ve,[e("div",be,[n(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=l=>o(s).metaDescription=l),placeholder:" ",rows:"3",class:"form-input resize-none peer",maxlength:"160"},null,512),[[i,o(s).metaDescription]]),t[23]||(t[23]=e("label",{class:"floating-label"},"Meta Description (160 chars max)",-1)),e("p",_e,m(o(s).metaDescription.length)+"/160 characters",1)]),e("div",he,[n(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>o(s).keywords=l),type:"text",placeholder:" ",class:"form-input peer"},null,512),[[i,o(s).keywords]]),t[24]||(t[24]=e("label",{class:"floating-label"},"Keywords (comma separated)",-1))])])]),e("div",Se,[t[28]||(t[28]=e("h2",{class:"text-xl font-bold text-gray-900 mb-6"},"Global Contact Settings",-1)),e("div",ke,[e("div",we,[n(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>o(s).contactEmail=l),type:"email",placeholder:" ",class:"form-input peer"},null,512),[[i,o(s).contactEmail]]),t[26]||(t[26]=e("label",{class:"floating-label"},"Main Contact Email",-1))]),e("div",Ce,[n(e("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>o(s).contactPhone=l),type:"tel",placeholder:" ",class:"form-input peer"},null,512),[[i,o(s).contactPhone]]),t[27]||(t[27]=e("label",{class:"floating-label"},"Main Contact Phone",-1))])])]),e("div",Ve,[v(S,{to:"/agency-cms/manage",class:"btn-secondary"},{default:U(()=>[...t[29]||(t[29]=[b("Cancel",-1)])]),_:1}),e("button",{type:"submit",disabled:o(x),class:"btn-primary"},m(o(x)?"Saving...":"Save Settings"),9,Te)])],32))]),o(d)?(p(),c("div",Ue,[e("div",Me,[t[30]||(t[30]=e("svg",{class:"w-5 h-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("p",Ne,m(o(d)),1)])])):T("",!0),o(r)?(p(),c("div",Ee,[e("div",Pe,[t[31]||(t[31]=e("svg",{class:"w-5 h-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("p",Fe,m(o(r)),1)])])):T("",!0)])}}};export{Oe as default};
