import{_ as N}from"./DbuFvnLP.js";import{m as F,f as H,r as x,p as I,h as O,l as f,A as g,q,c as n,a as e,i as p,b as R,w as G,u as l,F as J,k as K,t as u,s as Q,v as c,x as v,B as W,o as a,j as X}from"#entry";import{u as Y}from"./b2E7qtaH.js";import{a as Z}from"./BDG_tvSz.js";const ee={class:"min-h-screen bg-gray-50"},te={class:"bg-white shadow-sm border-b"},se={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},oe={class:"flex justify-between items-center py-4"},le={class:"flex items-center space-x-4"},ie={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ne={key:0,class:"flex justify-center items-center h-64"},ae={key:1,class:"space-y-6"},re={class:"flex items-start justify-between"},de={class:"flex items-start space-x-4 flex-1"},ue={class:"flex-shrink-0"},ce={key:0,class:"w-16 h-16 rounded-full overflow-hidden"},pe=["src","alt"],ve={key:1,class:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center"},xe={class:"flex-1"},me={class:"flex items-center space-x-3 mb-2"},fe={class:"text-xl font-bold text-gray-900"},ge={key:0,class:"px-2 py-1 bg-gray-200 text-gray-600 text-xs rounded-full"},he={class:"text-blue-600 font-medium mb-2"},ye={class:"text-gray-600 mb-4"},we={class:"flex items-center space-x-4 mb-4"},ke=["href"],be=["href"],_e=["href"],Me={class:"flex items-center space-x-4 text-sm text-gray-500"},Ce={class:"flex items-center space-x-2 ml-4"},Ae=["onClick"],Pe=["onClick"],je={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Se={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Te=["onClick"],ze={key:0,class:"text-center py-12"},Be={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Le={class:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},Ue={class:"p-6"},Ve={class:"flex justify-between items-center mb-6"},Ee={class:"text-xl font-bold text-gray-900"},$e={class:"relative"},De={class:"relative"},Ne={class:"relative"},Fe={class:"relative"},He={class:"relative"},Ie={class:"relative"},Oe={class:"relative"},qe={class:"grid grid-cols-2 gap-4"},Re={class:"relative"},Ge={class:"flex items-center space-x-3"},Je={class:"flex justify-end space-x-4 pt-4 border-t"},Ke=["disabled"],Qe={key:1,class:"fixed top-20 right-4 p-4 bg-green-50 border border-green-200 rounded-lg shadow-xl z-50"},We={class:"flex items-center"},Xe={class:"text-green-700 font-medium"},Ye={key:2,class:"fixed top-20 right-4 p-4 bg-red-50 border border-red-200 rounded-lg shadow-xl z-50"},Ze={class:"flex items-center"},et={class:"text-red-700 font-medium"},nt={__name:"team",async setup(tt){let h,M;const{logout:S}=F(),{getSiteSettings:T}=Y(),z=([h,M]=H(()=>T()),h=await h,M(),h),b=x([]),C=x(!0),y=x(!1),w=x(!1),m=x(null),r=x(""),d=x(""),s=I({name:"",position:"",description:"",image:"",email:"",linkedin:"",twitter:"",order:0,isActive:!0});O(async()=>{await k()});const k=async()=>{try{const i=await $fetch(f(g.CMS.TEAM.GET));b.value=i}catch{d.value="Failed to load team members"}finally{C.value=!1}},A=()=>{m.value=null,P(),w.value=!0},B=i=>{m.value=i,s.name=i.name,s.position=i.position,s.description=i.description,s.image=i.image||"",s.email=i.email||"",s.linkedin=i.linkedin||"",s.twitter=i.twitter||"",s.order=i.order,s.isActive=i.isActive,w.value=!0},_=()=>{w.value=!1,m.value=null,P()},P=()=>{s.name="",s.position="",s.description="",s.image="",s.email="",s.linkedin="",s.twitter="",s.order=0,s.isActive=!0},L=async()=>{y.value=!0,r.value="",d.value="";try{const i={name:s.name,position:s.position,description:s.description,image:s.image,email:s.email,linkedin:s.linkedin,twitter:s.twitter,order:s.order,isActive:s.isActive};m.value?(await $fetch(f(g.CMS.TEAM.PUT(m.value.id)),{method:"PUT",body:i}),r.value="Person updated successfully!"):(await $fetch(f(g.CMS.TEAM.POST),{method:"POST",body:i}),r.value="Person created successfully!"),_(),await k()}catch{d.value="Failed to save team member"}finally{y.value=!1}},U=async i=>{try{await $fetch(f(g.CMS.TEAM.PUT(i.id)),{method:"PUT",body:{...i,isActive:!i.isActive}}),r.value=`Person ${i.isActive?"deactivated":"activated"} successfully!`,await k()}catch{d.value="Failed to update team member status"}},V=async i=>{if(confirm(`Are you sure you want to delete "${i.name}"?`))try{await $fetch(f(g.CMS.TEAM.DELETE(i.id)),{method:"DELETE"}),r.value="Person deleted successfully!",await k()}catch{d.value="Failed to delete team member"}},E=i=>new Date(i).toLocaleDateString(),$=async()=>{await S()};return q([r,d],()=>{(r.value||d.value)&&setTimeout(()=>{r.value="",d.value=""},5e3)}),Z({title:`Manage People | ${z.siteName} CMS`,robots:"noindex, nofollow"}),(i,t)=>{const D=N;return a(),n("div",ee,[e("nav",te,[e("div",se,[e("div",oe,[e("div",le,[R(D,{to:"/agency-cms/manage",class:"text-blue-600 hover:text-blue-500"},{default:G(()=>[...t[9]||(t[9]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1}),t[10]||(t[10]=e("h1",{class:"text-xl font-semibold text-gray-900"},"Manage People",-1))]),e("div",{class:"flex items-center space-x-4"},[e("button",{onClick:A,class:"btn-primary"},"Add Person"),e("button",{onClick:$,class:"btn-secondary"},"Logout")])])])]),e("div",ie,[l(C)?(a(),n("div",ne,[...t[11]||(t[11]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)])])):(a(),n("div",ae,[(a(!0),n(J,null,K(l(b),o=>(a(),n("div",{key:o.id,class:"card p-6"},[e("div",re,[e("div",de,[e("div",ue,[o.image?(a(),n("div",ce,[e("img",{src:o.image,alt:o.name,class:"w-full h-full object-cover"},null,8,pe)])):(a(),n("div",ve,[...t[12]||(t[12]=[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)])]))]),e("div",xe,[e("div",me,[e("h3",fe,u(o.name),1),o.isActive?p("",!0):(a(),n("span",ge,"Inactive"))]),e("p",he,u(o.position),1),e("p",ye,u(o.description),1),e("div",we,[o.email?(a(),n("a",{key:0,href:`mailto:${o.email}`,class:"text-gray-500 hover:text-blue-600"},[...t[13]||(t[13]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)])],8,ke)):p("",!0),o.linkedin?(a(),n("a",{key:1,href:o.linkedin,target:"_blank",class:"text-gray-500 hover:text-blue-600"},[...t[14]||(t[14]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})],-1)])],8,be)):p("",!0),o.twitter?(a(),n("a",{key:2,href:o.twitter,target:"_blank",class:"text-gray-500 hover:text-blue-600"},[...t[15]||(t[15]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})],-1)])],8,_e)):p("",!0)]),e("div",Me,[e("span",null,"Order: "+u(o.order),1),t[16]||(t[16]=e("span",null,"â€¢",-1)),e("span",null,"Updated: "+u(E(o.updatedAt)),1)])])]),e("div",Ce,[e("button",{onClick:j=>B(o),class:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg"},[...t[17]||(t[17]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Ae),e("button",{onClick:j=>U(o),class:X([o.isActive?"text-yellow-600 hover:bg-yellow-50":"text-green-600 hover:bg-green-50","p-2 rounded-lg"])},[o.isActive?(a(),n("svg",je,[...t[18]||(t[18]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L5.636 5.636"},null,-1)])])):(a(),n("svg",Se,[...t[19]||(t[19]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])]))],10,Pe),e("button",{onClick:j=>V(o),class:"p-2 text-red-600 hover:bg-red-50 rounded-lg"},[...t[20]||(t[20]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Te)])])]))),128)),l(b).length===0?(a(),n("div",ze,[t[21]||(t[21]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),t[22]||(t[22]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No people added",-1)),t[23]||(t[23]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by adding your first person.",-1)),e("button",{onClick:A,class:"btn-primary mt-4"},"Add Person")])):p("",!0)]))]),l(w)?(a(),n("div",Be,[e("div",Le,[e("div",Ue,[e("div",Ve,[e("h2",Ee,u(l(m)?"Edit Person":"Add New Person"),1),e("button",{onClick:_,class:"text-gray-400 hover:text-gray-600"},[...t[24]||(t[24]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:Q(L,["prevent"]),class:"space-y-6"},[e("div",$e,[c(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>l(s).name=o),type:"text",placeholder:" ",class:"form-input peer",required:""},null,512),[[v,l(s).name]]),t[25]||(t[25]=e("label",{class:"floating-label"},"Full Name",-1))]),e("div",De,[c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>l(s).position=o),type:"text",placeholder:" ",class:"form-input peer",required:""},null,512),[[v,l(s).position]]),t[26]||(t[26]=e("label",{class:"floating-label"},"Position/Title",-1))]),e("div",Ne,[c(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>l(s).description=o),placeholder:" ",rows:"3",class:"form-input resize-none peer",required:""},null,512),[[v,l(s).description]]),t[27]||(t[27]=e("label",{class:"floating-label"},"Bio/Description",-1))]),e("div",Fe,[c(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>l(s).image=o),type:"url",placeholder:" ",class:"form-input peer"},null,512),[[v,l(s).image]]),t[28]||(t[28]=e("label",{class:"floating-label"},"Profile Image URL",-1))]),e("div",He,[c(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>l(s).email=o),type:"email",placeholder:" ",class:"form-input peer"},null,512),[[v,l(s).email]]),t[29]||(t[29]=e("label",{class:"floating-label"},"Email Address",-1))]),e("div",Ie,[c(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>l(s).linkedin=o),type:"url",placeholder:" ",class:"form-input peer"},null,512),[[v,l(s).linkedin]]),t[30]||(t[30]=e("label",{class:"floating-label"},"LinkedIn URL",-1))]),e("div",Oe,[c(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>l(s).twitter=o),type:"url",placeholder:" ",class:"form-input peer"},null,512),[[v,l(s).twitter]]),t[31]||(t[31]=e("label",{class:"floating-label"},"Twitter URL",-1))]),e("div",qe,[e("div",Re,[c(e("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>l(s).order=o),type:"number",placeholder:" ",class:"form-input peer",min:"0"},null,512),[[v,l(s).order,void 0,{number:!0}]]),t[32]||(t[32]=e("label",{class:"floating-label"},"Display Order",-1))]),e("div",Ge,[c(e("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>l(s).isActive=o),type:"checkbox",id:"isActive",class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[W,l(s).isActive]]),t[33]||(t[33]=e("label",{for:"isActive",class:"text-sm font-medium text-gray-700"},"Active",-1))])]),e("div",Je,[e("button",{onClick:_,type:"button",class:"btn-secondary"},"Cancel"),e("button",{type:"submit",disabled:l(y),class:"btn-primary"},u(l(y)?"Saving...":"Save Person"),9,Ke)])],32)])])])):p("",!0),l(r)?(a(),n("div",Qe,[e("div",We,[t[34]||(t[34]=e("svg",{class:"w-5 h-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("p",Xe,u(l(r)),1)])])):p("",!0),l(d)?(a(),n("div",Ye,[e("div",Ze,[t[35]||(t[35]=e("svg",{class:"w-5 h-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("p",et,u(l(d)),1)])])):p("",!0)])}}};export{nt as default};
